!function(e){function t(t){for(var n,o,i=t[0],a=t[1],l=0,c=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&c.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={1:0};var o={};var i={1:function(){return{"./index.js":{__wbindgen_throw:function(e,t){return n[2].exports.__wbindgen_throw(e,t)}}}}};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var l=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=l);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({}[e]||e)+".js"}(e);var u=new Error;c=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,n[1](u)}r[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return({0:[1]}[e]||[]).forEach((function(e){var n=o[e];if(n)t.push(n);else{var r,l=i[e](),c=fetch(a.p+""+{1:"f749c07845a5b26dbe98"}[e]+".module.wasm");if(l instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)r=Promise.all([WebAssembly.compileStreaming(c),l]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)r=WebAssembly.instantiateStreaming(c,l);else{r=c.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,l)}))}t.push(o[e]=r.then((function(t){return a.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/wasm-a-star/",a.oe=function(e){throw console.error(e),e},a.w={};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;a(a.s=0)}([function(e,t,n){const r=document.getElementById("a-star-canvas");r.width=496,r.height=496;const o=r.getContext("2d");let i,a=!1,l=!1,c=!1,s=0,u=0;n.e(0).then(n.bind(null,1)).then(e=>{i=e}),document.addEventListener("keydown",e=>{"KeyS"==e.code?a=!0:"KeyE"==e.code&&(l=!0)}),document.addEventListener("keyup",e=>{"KeyS"==e.code?a=!1:"KeyE"==e.code&&(l=!1)}),document.addEventListener("mousedown",()=>c=!0),document.addEventListener("mouseup",()=>c=!1),n.e(0).then(n.bind(null,2)).then(e=>{const t=e.Grid.new(15,15);t.set_start(1,1),t.set_end(13,13);const n=e.NodeStates,d=()=>{const e=new Uint8Array(i.memory.buffer,t.nodes(),225);t.clear_path(),o.clearRect(0,0,r.width,r.height),o.beginPath();for(let t=0;t<15;t++)for(let r=0;r<15;r++){switch(e[15*t+r]){case n.WALL:o.fillStyle="#000000";break;case n.START:o.fillStyle="#FFE66D";break;case n.END:o.fillStyle="#FF6B6B";break;default:o.fillStyle="#F2F2F2"}o.lineWidth=2,o.strokeRect(33*r+16+1-12,33*t+16+1-12,24,24),o.lineWidth=0,o.fillRect(33*r+16+1-12,33*t+16+1-12,24,24)}o.stroke()};d(),r.addEventListener("mousemove",e=>{const n=r.getBoundingClientRect(),o=r.width/n.width,i=r.height/n.height,f=(e.clientX-n.left)*o,h=(e.clientY-n.top)*i,m=Math.min(Math.floor(h/33),14),p=Math.min(Math.floor(f/33),14);m===s&&p===u||m<0||p<0||(s=m,u=p,!c||a||l||(e.ctrlKey?t.remove_wall(s,u):t.add_wall(s,u),d()))}),r.addEventListener("mousedown",e=>{a?t.set_start(s,u):l?t.set_end(s,u):e.ctrlKey?t.remove_wall(s,u):t.add_wall(s,u),d()}),document.getElementById("start").addEventListener("click",()=>{t.clear_path(),t.a_star(),o.beginPath(),o.strokeStyle="#000000",o.lineWidth=3,o.lineCap="round",o.lineJoin="round";const e=new Uint16Array(i.memory.buffer,t.get_path(),t.get_path_count());e.forEach((t,n)=>{if(e[n+1]){const t=e[n]%15,r=Math.floor(e[n]/15),i=e[n+1]%15,a=Math.floor(e[n+1]/15);o.moveTo(33*t+16+1,33*r+16+1),o.lineTo(33*i+16+1,33*a+16+1)}}),o.stroke()}),document.getElementById("binds").addEventListener("click",()=>{alert("Start: S + Click\nEnd: E + Click\nWall (add): Click\nRemove Wall: Ctrl + Click")})})}]);